{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\n\nexport default function getPics(queryWords) {\n    axios.defaults.baseURL = \"https://pixabay.com\";\n    return axios.get(\"/api/\", {\n        params: {\n            key: \"31908643-2178b12526c513c1beb381d6b\",\n            q: queryWords,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: true,\n        }\n    })\n};\n","const galleryEl = document.querySelector(\".gallery\");\n\n\nexport default function renderGallery (picsArray) {\n    const galleryMarkup = picsArray\n        .map(image => `<li class=\"gallery-item\"><a class=\"gallery-link\" href=\"${image.largeImageURL}\"><img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\"/></a><ul class=\"img-info-list\">\n            <li class=\"img-info-item\">\n              <h3 class=\"img-info-item-header\">Likes</h3>\n              <p class=\"img-info-item-value\">${image.likes}</p>\n            </li>\n            <li class=\"img-info-item\">\n              <h3 class=\"img-info-item-header\">Views</h3>\n              <p class=\"img-info-item-value\">${image.views}</p>\n            </li>\n            <li class=\"img-info-item\">\n              <h3 class=\"img-info-item-header\">Comments</h3>\n              <p class=\"img-info-item-value\">${image.comments}</p>\n            </li>\n            <li class=\"img-info-item\">\n              <h3 class=\"img-info-item-header\">Downloads</h3>\n              <p class=\"img-info-item-value\">${image.downloads}</p>\n            </li>\n          </ul></li>`)\n        .join(\"\");\n    \n    galleryEl.insertAdjacentHTML(\"beforeend\", galleryMarkup); \n};\n\nexport function clearGallery() {\n    galleryEl.innerHTML = \"\";\n};","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport getPics from \"./js/pixabay-api\";\nimport renderGallery from \"./js/render-functions\";\nimport { clearGallery } from \"./js/render-functions\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst formEl = document.querySelector(\".form\");\nconst loaderEl = document.querySelector(\".loader\")\nconst galleryEl = document.querySelector(\".gallery\");\nformEl.addEventListener(\"submit\", onSubmit);\n\nfunction onSubmit(event) {\n    event.preventDefault();\n    const queryWords = event.currentTarget.searchText.value.trim(\"\");\n    if (queryWords === \"\") {\n        return iziToast.error({\n            theme: 'dark',\n            message: \"Please, fill out the search field.\",\n            backgroundColor: '#EF4040',\n            closeOnClick: true,\n            position: 'topRight',\n            timeout: 3000,\n        })\n    } else {\n        clearGallery();\n        loaderEl.classList.remove(\"visually-hidden\");\n        getPics(queryWords)\n            .then(response => {\n                const picsArray = response.data.hits;\n                if (picsArray.length === 0) {\n                    return iziToast.error({\n                        theme: \"dark\",\n                        message: \"Sorry, there are no images matching your search query. Please try again!\",\n                        backgroundColor: \"#EF4040\",\n                        closeOnClick: true,\n                        position: \"topRight\",\n                        timeout: 3000,\n                    })\n                } else {\n                    renderGallery(picsArray);\n                    slGallery.refresh();\n                }\n            })\n            .catch(error => {\n                return iziToast.error({\n                    theme: \"dark\",\n                    title: \"Error!\",\n                    message: \"Sorry, something went wrong.\",\n                    backgroundColor: \"#EF4040\",\n                    closeOnClick: true,\n                    position: \"topRight\",\n                    timeout: 3000,\n                    })\n            })\n            .finally(() => {\n            loaderEl.classList.add(\"visually-hidden\");\n        });\n        event.currentTarget.searchText.value = \"\";\n    }\n    \n};\n\nconst slGalleryOptions = {\n  captionDelay: 250,\n  captionsData: \"alt\",\n};\nlet slGallery = new SimpleLightbox('.gallery a', slGalleryOptions);\n"],"names":["getPics","queryWords","axios","galleryEl","renderGallery","picsArray","galleryMarkup","image","clearGallery","formEl","loaderEl","onSubmit","event","iziToast","response","slGallery","error","slGalleryOptions","SimpleLightbox"],"mappings":"owBAGe,SAASA,EAAQC,EAAY,CACxC,OAAAC,EAAM,SAAS,QAAU,sBAClBA,EAAM,IAAI,QAAS,CACtB,OAAQ,CACJ,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACT,CAAK,CACL,CCdA,MAAME,EAAY,SAAS,cAAc,UAAU,EAGpC,SAASC,EAAeC,EAAW,CAC9C,MAAMC,EAAgBD,EACjB,IAAIE,GAAS,0DAA0DA,EAAM,aAAa,qCAAqCA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,+CAG/HA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,+CAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,+CAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,+CAIdA,EAAM,SAAS;AAAA;AAAA,qBAEzC,EACZ,KAAK,EAAE,EAEZJ,EAAU,mBAAmB,YAAaG,CAAa,CAC3D,CAEO,SAASE,GAAe,CAC3BL,EAAU,UAAY,EAC1B,CCtBA,MAAMM,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAW,SAAS,cAAc,SAAS,EAC/B,SAAS,cAAc,UAAU,EACnDD,EAAO,iBAAiB,SAAUE,CAAQ,EAE1C,SAASA,EAASC,EAAO,CACrBA,EAAM,eAAc,EACpB,MAAMX,EAAaW,EAAM,cAAc,WAAW,MAAM,KAAK,EAAE,EAC/D,GAAIX,IAAe,GACf,OAAOY,EAAS,MAAM,CAClB,MAAO,OACP,QAAS,qCACT,gBAAiB,UACjB,aAAc,GACd,SAAU,WACV,QAAS,GACrB,CAAS,EAEDL,IACAE,EAAS,UAAU,OAAO,iBAAiB,EAC3CV,EAAQC,CAAU,EACb,KAAKa,GAAY,CACd,MAAMT,EAAYS,EAAS,KAAK,KAChC,GAAIT,EAAU,SAAW,EACrB,OAAOQ,EAAS,MAAM,CAClB,MAAO,OACP,QAAS,2EACT,gBAAiB,UACjB,aAAc,GACd,SAAU,WACV,QAAS,GACjC,CAAqB,EAEDT,EAAcC,CAAS,EACvBU,EAAU,QAAO,CAErC,CAAa,EACA,MAAMC,GACIH,EAAS,MAAM,CAClB,MAAO,OACP,MAAO,SACP,QAAS,+BACT,gBAAiB,UACjB,aAAc,GACd,SAAU,WACV,QAAS,GAC7B,CAAqB,CACR,EACA,QAAQ,IAAM,CACfH,EAAS,UAAU,IAAI,iBAAiB,CACpD,CAAS,EACDE,EAAM,cAAc,WAAW,MAAQ,EAG/C,CAEA,MAAMK,EAAmB,CACvB,aAAc,IACd,aAAc,KAChB,EACA,IAAIF,EAAY,IAAIG,EAAe,aAAcD,CAAgB"}